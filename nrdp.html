<!DOCTYPE html>
<html ng-app="nrdpApp">
<head>
	<meta charset="utf-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Netrunner Decklist Picker</title>
	<link rel="stylesheet" type="text/css" href="css/bootstrap.css">
	<link rel="stylesheet" type="text/css" href="css/nrdpStyle.css">
	<script type="text/javascript" src="js/angular.js"></script>
</head>
<body ng-controller="nrdpTroller">

	<div class="container">
		<div class="row">
			<div class="col-md-3"></div>
			<div class="col-xs-12 col-md-6">
				<accordion close-others="true">
					<accordion-group heading="Choose your sets" is-open="chooseSetsOpen">
						<div>Number of Core Sets</div>
						<input name="cores" type="radio" value="1" ng-click="setCores(1)" checked="checked"/><label>&emsp;One</label><br/>
						<input name="cores" type="radio" value="2" ng-click="setCores(2)"/><label>&emsp;Two</label><br/>
						<input name="cores" type="radio" value="3" ng-click="setCores(3)"/><label>&emsp;Three</label><br/>
						<hr/>
						<div ng-repeat="set in allSets"><label>{{set.name}}&emsp;</label><input type="checkbox" ng-model="set.userSelect" ng-value="set.userSelect"/></div>
						<button class='btn btn-success' ng-click="selectSets(numberOfCores)">Select Sets</button>
						<span ng-show="selectACore">&emsp;Please Select Core Set</span>
						<span ng-show="selectNumberOfCores">&emsp;Please Select Number of Core Sets</span>
					</accordion-group>
					<accordion-group heading="Suggestions" is-open="suggestionsOpen" ng-click="makeSuggestion()">
						<div>
							<!--<img src="{{deckSuggestions[0].identity}}"/>
							<section>{{deckSuggestions[0].description}}</section>-->
							<div style="overflow:hidden" ng-repeat="(deckIndex, deck) in deckSuggestions">
								<img class="thumbnail" ng-src="{{deck.identity}}">
								<a href="http://netrunnerdb.com/en/decklist/{{deck.id}}">{{deck.name}}</a>
								<div style="clear:left" ng-repeat="(cardIndex, card) in deck.cards"><a href="#" ng-click="$event.preventDefault(); openModal(deckIndex, cardIndex)">{{deck.cardTitleList[$index]}} : {{card}}</a></div>
							</div>
						</div>
					</accordion-group>
				</accordion>
			</div>
			<div class="col-md-3"></div>
		</div>
	</div>

	<script type="text/ng-template" id="cardInfoModal.html">
		<div class="modal-header">
			<h3 class="modal-title">{{cardInfo.title}}</h3>
		</div>
		<div class="modal-body" style="overflow:hidden">
			<img style="float:left" ng-src="http://netrunnerdb.com{{imagePlaceholder}}">
			<p>{{cardInfo.flavor}}</p>
			<p>{{cardInfo.text}}</p>
			<p>{{cardInfo.setname}}</p>
		</div>
		<button class="btn btn-primary" ng-click="closeModal()">Close</button>
	</script>

	<script type="text/javascript" src="json/nrdb_hof.json"></script>
	<script type="text/javascript" src="json/allCards.json"></script>
	<script type="text/javascript" src="json/allSets.json"></script>
	<script type="text/javascript" src="json/decklist.json"></script>
	<script type="text/javascript" src="js/ui-bootstrap-tpls-0.13.4.js"></script>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore.js"></script>
	<script type="text/javascript" src="js/nrdpTroller.js"></script>
	<script type="text/javascript" src="js/nrdpFactory.js"></script>

</body>
</html>